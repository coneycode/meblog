title: 蓝牙4.0，物联网时代的垫脚石
date: 2014-09-15 21:08:18
categories:
- 技术-技术普及
tags:
- 物联网
- 蓝牙4.0
- 智能硬件

------

#蓝牙4.0，物联网时代的垫脚石

最近工作需要用到蓝牙4.0，整理了一些信息，分享一下。
蓝牙 4.0 的标准早在 2010 年 7 月就已经发布，但真正应用于智能手机则是在 2011 年 9 月 iPhone 4S 发布之后。尽管随后 Galaxy S3、Galaxy Note 2 等一批支持蓝牙 4.0 的 Android 机型纷至沓来，但 Android 原生系统始终缺乏预设蓝牙框架，由于系统底层蓝牙驱动不同，开发者无法在不同品牌不同机型的 Android 手机上做一些蓝牙外设。
而在Android 4.3 的发布会上，google终于带来了 Bluetooth 4.0 Low Energy。这必将是一个物联网加速发展的大好时机。

##蓝牙4.0较之前有什么较重要的改进：
技术规范 | 经典蓝牙（2.1 &3.0）|低功耗蓝牙（4.0）
--------|-------------------|-------------
无线电频率|2.4GHz|2.4GHz
距离|10米/100米|30米|
数据速率|1-3Mbps|1Mbps|
应用吞吐量|0.7-2.1Mbps|0.2Mbps|
发送数据的总时间|100ms|<6ms|
耗电量|1|0.01至0.5|
最大操作电流|<30mA|<15mA（最高运行时为15 mA）|
主要用途|手机，游戏机，耳机，立体声音频流，汽车和PC等|手机，游戏机，PC，表，体育和健身，医疗保健，汽车，家用电子，自动化和工业等|

  - 低能耗！
  
       蓝牙4.0可以用更低的功耗传输更远的距离，而且在待机状态（不使用）的情况下，耗电量几乎可以忽略不计，据称一颗纽扣电池就可以待机数年之久。注意，这里说的是 待机。
       在真正传输数据时耗电量并没有很大改观，但是在待机的时候大大降低了耗电量。
  
  - 更长的传输距离！
  
      从蓝牙4.0的规范标准来看，其中有一点就是高达100米的传输距离，这在以前是不敢想象的.
     一般的蓝牙设备，也就是10米范围内，好一点的也不会超过20米的传输距离，在4.0之前，最高速度24Mbps的蓝牙技术高速规范提高了蓝牙设备的门槛，比如当初森海塞尔RS180无线耳机，作为一款2.4G设备竟然能有100米的传输距离令业界惊奇了好久。
    但是相信4.0普及以后，轻轻松松就可以达到这个成绩。
  
  - 其他的包括速度，延迟，安全方面的改进就不详细介绍了。
##蓝牙4.+必将助力物联网
蓝牙4.1出来了。蓝牙4.1新技术全面解析：这次蓝牙4.1玩了回大的—IOT（物联网）。而为了实现这一点，迎合可穿戴和多设备连接，对通讯功能的改进（改善数据传输能力）成为4.1标准最重要的升级之一。听说5.0还要全面组网。
##关于开发
下图为蓝牙4.0的模块图
![bluetooth4.0](http://coney.qiniudn.com/blog_ble4.0.png?download&e=1410876247&token=gJq7XMKe61C7zF73uUsV1e9QYqD3-fJSyQAAZZZr:H9Lmhko_4vE3AmrXfGVmPx91WPw)

根据模块图可以看出，蓝牙核心规范4.0的模块增加了以下几个蓝牙低功耗组件。
	
- GATT表示服务器属性和客户端属性，描述了属性服务器中使用的服务层次，特点和属	性。BLE设备使用它作为蓝牙低功耗应用规范的服务发现。
- ATT实现了属性客户端和服务器之间的点对点协议。ATT客户端给ATT服务器发送请命令。ATT服务器向ATT客户端发送回复和通知。

- SMP用于生成对等协议的加密密钥和身份密钥。SMP管理加密密钥和身份密钥的存储，它通过生成和解析设备的地址来识别蓝牙设备。


稍后写出demo来会继续分享。





  